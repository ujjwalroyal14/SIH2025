<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Indian Cattle & Buffalo Breed Classifier</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <header class="navbar">
    <div class="logo">Wagmi</div>
    <nav>
      <!-- Buttons -->
      <button class="btn login" id="loginBtn">Log in</button>
      <button class="btn primary" id="registerBtn">Register</button>

      <!-- Login Form -->
      <div class="login-form" id="loginForm">
        <h2>Login</h2>
        <form id="loginDataForm">
          <input type="text" name="identifier" placeholder="Email or Mobile" required>
          <input type="password" name="password" placeholder="Password" required>
          <button type="submit" class="btn primary" style="display:block;margin:15px auto;">Log in</button>

        </form>
        <p style="text-align:center; margin-top: 10px;">
          Don't have an account?  
          <span class="click-here" id="switchToRegister" style="color: #2762a5; cursor:pointer;">Register</span>
        </p>
      </div>

      <!-- Register Form -->
      <div class="login-form" id="registerForm">
        <h2>Register</h2>
        <!-- Updated form to send data to save.php -->
        <form id="registerDataForm" action="save.php" method="post">
          <input type="text" name="name" placeholder="Full Name" required>
          <input type="tel" name="mobile" placeholder="Mobile Number" required>
          <input type="email" name="email" placeholder="Email ID" required>
          <input type="password" name="password" placeholder="Password" required>
          <button type="submit" class="btn primary" style="display:block;margin:15px auto;">Register</button>
        </form>
        <p style="text-align:center; margin-top: 10px;">
          Already have an account? 
          <span class="click-here" id="switchToLogin" style="color: #2762a5; cursor:pointer;">Login</span>
        </p>
      </div>
    </nav>
  </header>

  <main>
    <!-- Hero Section -->
    <div class="hero">
      <div class="hero-text">
        <h1>Identify cattle & buffalo breeds using AI</h1>
        <p>
          Below is a free classifier to identify Indian cattle and buffalo breeds. 
          Just upload your image, and our AI will predict which breed it is â€“ in just seconds.
        </p>
      </div>
      <div class="hero-image">
        <img src="cattle.jpg" alt="Cattle and Buffalo">
      </div>
    </div>

    <!-- Upload Section -->
    <div class="upload-box">
      <p>ðŸ“¤ Drop image or click to select<br> JPG, PNG, BMP, or WEBP</p>
      <input type="file" id="imageInput" accept="image/*" hidden>
      <div class="powered">Powered by <a href="#">Wagmi</a></div>
    </div>
  </main>

  <!-- Footer Section -->
  <footer>
    <p>Contact No: <strong>9693411884</strong></p>
    <div class="social-icons">
      <a href="https://wa.me/+919693411884" target="_blank"><i class="fab fa-whatsapp"></i></a>
      <a href="https://instagram.com/" target="_blank"><i class="fab fa-instagram"></i></a>
    </div>
  </footer>

  <script>
    const loginForm = document.getElementById("loginForm");
    const registerForm = document.getElementById("registerForm");
    const loginBtn = document.getElementById("loginBtn");
    const registerBtn = document.getElementById("registerBtn");
    const switchToRegister = document.getElementById("switchToRegister");
    const switchToLogin = document.getElementById("switchToLogin");

    // Toggle Login Form
    function toggleLoginForm() {
      loginForm.style.display = loginForm.style.display === "block" ? "none" : "block";
      registerForm.style.display = "none";
    }

    // Toggle Register Form
    function toggleRegisterForm() {
      registerForm.style.display = registerForm.style.display === "block" ? "none" : "block";
      loginForm.style.display = "none";
    }

    // Buttons
    loginBtn.addEventListener("click", toggleLoginForm);
    registerBtn.addEventListener("click", toggleRegisterForm);
    switchToRegister.addEventListener("click", toggleRegisterForm);
    switchToLogin.addEventListener("click", toggleLoginForm);

    // Close forms when clicking outside
    document.addEventListener("click", function(event) {
      const target = event.target;
      if (!loginForm.contains(target) && !registerForm.contains(target) && target !== loginBtn && target !== registerBtn && target !== switchToLogin && target !== switchToRegister) {
        loginForm.style.display = "none";
        registerForm.style.display = "none";
      }
    });

    // Login Form Submission (localStorage demo, can be replaced with backend validation)
    const loginFormElement = document.getElementById("loginDataForm");
    loginFormElement.addEventListener("submit", function(e) {
      e.preventDefault();
      const enteredIdentifier = this.identifier.value;
      const enteredPassword = this.password.value;
      const savedUser = JSON.parse(localStorage.getItem("userData"));

      if (savedUser && 
         (enteredIdentifier === savedUser.email || enteredIdentifier === savedUser.mobile) && 
         enteredPassword === savedUser.password) {
        alert(`Welcome back, ${savedUser.name}!`);
        this.reset();
        loginForm.style.display = "none";
      } else {
        alert("Account not found, please register");
      }
    });
  </script>
</body>
</html>
